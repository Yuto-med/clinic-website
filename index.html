<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>鈴木内科｜名古屋市昭和区の地域密着型クリニック</title>
  <style>
    body { font-family: sans-serif; line-height: 1.6; margin: 0; padding: 0; background-color: #f9f9f9; }
    header, footer, section { padding: 20px; max-width: 800px; margin: auto; background: white; margin-bottom: 10px; }
    header { background-color: #0077cc; color: white; text-align: center; }
    footer { font-size: 0.8em; text-align: center; color: #555; }
    h2 { border-bottom: 2px solid #0077cc; padding-bottom: 5px; }
    iframe { width: 100%; border: 0; margin-top: 10px; }
  </style>
</head>
<body>
  <header>
    <h1>鈴木内科</h1>
    <p>名古屋市昭和区花見通にある地域密着型のクリニックです。<br>身近な「かかりつけ医」として、安心できる医療を提供しています。</p>
  </header>

  <section id="news">
    <h2>お知らせ</h2>
    <ul id="news-list">
      <!-- ここにシートの内容が入ります -->
    </ul>
  </section>

  <!-- 以下、他のセクションは省略 -->

  <footer>
    <p>&copy; 2025 鈴木内科. All Rights Reserved.</p>
  </footer>

  <script>
    (()=>{
      // ★ ここにご自身のスプレッドシートIDを入れてください
      const sheetId = "1RwJONr5sVQNRBcleuAYxx_T0oh5BnpPdi0_1luGVZ90";
      // gid=0 は最初のシートの場合。別シートなら gid= シートID を調べて置き換え
      const url = `https://docs.google.com/spreadsheets/d/${sheetId}/export?format=csv&gid=0`;

      fetch(url)
        .then(res => {
          if (!res.ok) throw new Error("スプレッドシートの取得に失敗しました");
          return res.text();
        })
        .then(csvText => {
          const lines = csvText.trim().split("\n");
          const list = document.getElementById("news-list");
          list.innerHTML = "";

          lines.forEach(line => {
            // CSV の A列, B列 (カンマで区切られている想定)
            const [date, ...rest] = line.split(",");
            const text = rest.join(","); // もし本文にカンマが入っていても対応

            const li = document.createElement("li");
            li.textContent = `${date}：${text}`;
            list.appendChild(li);
          });
        })
        .catch(err => {
          console.error(err);
          document.getElementById("news-list").innerHTML =
            "<li>お知らせの取得に失敗しました。</li>";
        });
    })();
  </script>
</body>
</html>
